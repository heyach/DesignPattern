### 设计模式 状态模式
***
当一个对象的状态发生改变时，要执行响应的动作

### 一句话
时间是一维的，一个对象可能被任意多个操作改变，无论操作有多复杂，一个对象在某个时刻只有一个状态，根据这个状态来处理逻辑

### 场景一
![](https://raw.githubusercontent.com/heyach/blog/main/images/designpattern/state.jpg)
一颗树有多个节点，用户可能勾选/反选任意节点，展开折叠节点，删除节点啥的，假如我们需要在页面的另外一个地方显示树的最新结果，还有一些合并自定义逻辑，那么需要在每次操作中去更新
勾选几个节点，把勾选的节点更新到显示
反选几个节点，把反选的节点更新到显示
删除几个几点，把删除的节点更新到显示
...
按照状态模式的思想，每次操作更改树的状态，而在显示的地方，每次获取最新状态的树，然后显示即可

### 场景二
一些对象的操作是有顺序和组合的，比如一个游戏角色能走能跑，穿了装备走的更快跑的更快，如果每次执行操作都判断，那就炸了
创建一个角色，走的速度是1，跑的速度是2
如果穿了鞋，走的速度是2，跑的速度是4
如果穿了跑鞋，走的速度是4，跑的速度是8
...
而按照状态模式的思想，穿鞋穿装备的时候改变角色的状态，在移动的时候根据状态来计算速度
